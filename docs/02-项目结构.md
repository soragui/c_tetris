# ç¬¬ 2 è¯¾ï¼šé¡¹ç›®ç»“æ„ ğŸ“

## 2.1 é¡¹ç›®æ–‡ä»¶ç»„ç»‡

```
tetris/
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ main.c              # ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ game.c/h            # æ¸¸æˆæ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ board.c/h           # æ¸¸æˆæ¿ï¼ˆ10x20ï¼‰
â”‚   â”œâ”€â”€ tetromino.c/h       # æ–¹å—å®šä¹‰å’Œæ“ä½œ
â”‚   â”œâ”€â”€ render.c/h          # ncurses æ¸²æŸ“
â”‚   â”œâ”€â”€ input.c/h           # è¾“å…¥å¤„ç†
â”‚   â””â”€â”€ score.c/h           # åˆ†æ•°ç³»ç»Ÿ
â”œâ”€â”€ obj/                    # ç¼–è¯‘ä¸­é—´æ–‡ä»¶ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ Makefile                # æ„å»ºé…ç½®æ–‡ä»¶
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜
â””â”€â”€ docs/                   # æ•™ç¨‹æ–‡æ¡£
```

## 2.2 æ¨¡å—èŒè´£

| æ¨¡å— | æ–‡ä»¶ | èŒè´£ |
|------|------|------|
| **main** | main.c | ç¨‹åºå…¥å£ï¼Œåˆå§‹åŒ–ï¼Œæ¸¸æˆå¾ªç¯ |
| **game** | game.c/h | æ¸¸æˆçŠ¶æ€ç®¡ç†ï¼Œæ–¹å—ç”Ÿæˆ |
| **board** | board.c/h | æ¸¸æˆæ¿ç®¡ç†ï¼Œæ¶ˆè¡Œæ£€æµ‹ |
| **tetromino** | tetromino.c/h | æ–¹å—å®šä¹‰ï¼Œæ—‹è½¬ï¼Œç§»åŠ¨ |
| **render** | render.c/h | ç»ˆç«¯å›¾å½¢æ¸²æŸ“ |
| **input** | input.c/h | é”®ç›˜è¾“å…¥å¤„ç† |
| **score** | score.c/h | è®¡åˆ†å’Œç­‰çº§ç³»ç»Ÿ |

## 2.3 ç†è§£ Makefile

```makefile
# ç¼–è¯‘å™¨å’Œæ ‡å¿—
CC = gcc
CFLAGS = -Wall -Wextra -std=c99 -Isrc -O2
LDFLAGS = -lncurses

# ç›®æ ‡ï¼šç¼–è¯‘æ‰€æœ‰æºæ–‡ä»¶
tetris: $(OBJS)
	$(CC) $(OBJS) -o tetris $(LDFLAGS)

# ç¼–è¯‘è§„åˆ™ï¼š.c â†’ .o
obj/%.o: src/%.c
	$(CC) $(CFLAGS) -c $< -o $@
```

**Makefile çš„ä½œç”¨ï¼š**
- è‡ªåŠ¨åŒ–ç¼–è¯‘è¿‡ç¨‹
- åªé‡æ–°ç¼–è¯‘ä¿®æ”¹è¿‡çš„æ–‡ä»¶
- ç®¡ç†ä¾èµ–å…³ç³»

## 2.4 ç¼–è¯‘æµç¨‹

```
æºä»£ç  (.c) â†’ ç¼–è¯‘ â†’ ç›®æ ‡æ–‡ä»¶ (.o) â†’ é“¾æ¥ â†’ å¯æ‰§è¡Œæ–‡ä»¶ (tetris)
```

```bash
# æ‰‹åŠ¨ç¼–è¯‘è¿‡ç¨‹ï¼ˆMakefile è‡ªåŠ¨å®Œæˆï¼‰
gcc -c src/main.c -o obj/main.o
gcc -c src/game.c -o obj/game.o
# ... ç¼–è¯‘å…¶ä»–æ–‡ä»¶
gcc obj/*.o -o tetris -lncurses
```

## âœ… æœ¬è¯¾æ£€æŸ¥æ¸…å•

- [ ] ç†è§£é¡¹ç›®ç›®å½•ç»“æ„
- [ ] çŸ¥é“æ¯ä¸ªæ¨¡å—çš„èŒè´£
- [ ] ç†è§£ Makefile çš„ä½œç”¨
- [ ] äº†è§£ç¼–è¯‘æµç¨‹

---

ä¸‹ä¸€è¯¾ï¼š[ç¼–è¯‘è¿è¡Œ](03-ç¼–è¯‘è¿è¡Œ.md)
