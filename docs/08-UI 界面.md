# 第 8 课：UI 界面 🎨

## 8.1 ncurses 基础

ncurses 是一个终端图形库，让我们能在终端中绘制图形。

### 初始化

```c
#include <ncurses.h>

void render_init(void) {
    initscr();              // 启动 ncurses
    cbreak();               // 禁用行缓冲
    noecho();               // 不显示输入
    keypad(stdscr, TRUE);   // 启用方向键
    curs_set(0);            // 隐藏光标
    
    // 启用颜色
    if (has_colors()) {
        start_color();
        init_pair(1, COLOR_CYAN, -1);    // I 方块
        init_pair(2, COLOR_YELLOW, -1);  // O 方块
    }
}
```

### 绘制字符

```c
mvaddch(y, x, 'A');        // 单个字符
mvaddstr(y, x, "Hello");   // 字符串
mvprintw(y, x, "Score: %d", score);  // 格式化

// 使用特殊字符
mvaddch(y, x, ACS_CKBOARD);  // 棋盘格（方块）
mvaddch(y, x, ACS_ULCORNER); // 左上角
mvaddch(y, x, ACS_HLINE);    // 水平线
mvaddch(y, x, ACS_VLINE);    // 垂直线

refresh();  // 刷新屏幕
```

## 8.2 绘制方块

```c
void render_block(int x, int y, int color) {
    if (color > 0 && color <= 7) {
        attron(COLOR_PAIR(color));
        mvaddch(y, x * 2, ACS_CKBOARD);
        mvaddch(y, x * 2 + 1, ACS_CKBOARD);
        attroff(COLOR_PAIR(color));
    }
}
```

## ✅ 本课检查清单

- [ ] 会初始化 ncurses
- [ ] 理解颜色和字符绘制
- [ ] 会绘制方块
- [ ] 能设计游戏界面布局

---

下一课：[调试技巧](12-调试技巧.md)
